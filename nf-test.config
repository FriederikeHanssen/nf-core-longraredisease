/*
========================================================================================
    nf-test configuration file for nanoraredx pipeline
========================================================================================
    Configuration for nf-test testing framework
    https://www.nf-test.com/
----------------------------------------------------------------------------------------
*/

config {
    // Test discovery settings
    testsDir "."                                    // Look for tests in all directories
    workDir System.getenv("NFT_WORKDIR") ?: ".nf-test"  // Working directory for nf-test
    
    // Configuration files
    configFile "tests/nextflow.config"             // Test-specific Nextflow configuration
    
    // Default profile for tests
    profile "test,docker"                                  // Use test profile by default
    
    // Files and directories to ignore during testing
    ignore 'modules/nf-core/**/*', 'subworkflows/nf-core/**/*'
    
    // Files that trigger test cache invalidation when changed
    triggers 'nextflow.config', 'nf-test.config', 'conf/test.config', 'tests/nextflow.config', 'tests/.nftignore'
    
    // Essential plugins for comprehensive testing
    plugins {
        load "nft-utils@0.0.3"      // Essential utility functions
        load "nft-bam@0.6.0"        // BAM file testing utilities
        load "nft-vcf@1.0.7"        // VCF file testing utilities  
        load "nft-fastq@0.0.1"      // FASTQ file testing utilities
    }
}